<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CO₂-Footprint Dashboard</title>

  <!-- CSS-Framework: Bootstrap über CDN -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous"
  />

  <!-- Eigene Styles -->
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Header mit globaler Navigation -->
  <header class="bg-dark text-light py-3 mb-4">
    <div class="container d-flex align-items-center justify-content-between">
      <div class="d-flex align-items-center gap-2">
        <!-- Platzhalter-Logo -->
        <div class="logo-circle"></div>
        <h1 class="h4 mb-0">Global CO₂ Footprint Monitor</h1>
      </div>
      <nav aria-label="Globale Navigation">
        <ul class="nav">
          <li class="nav-item">
            <a class="nav-link text-light" href="#dashboard">Dashboard</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-light" href="#about">Über das Projekt</a>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Content-Bereich -->
  <main class="container mb-5">
    <!-- Vue-App-Container -->
    <div id="app" class="layout-flex">
      <!-- Lokales Menü -->
      <aside id="local-menu" class="mb-4" aria-label="Lokale Navigation">
        <nav class="nav flex-column">
          <a class="nav-link px-0" href="#dashboard">Emissionstabellen</a>
          <a class="nav-link px-0" href="#filters">Filter &amp; Sortierung</a>
          <a class="nav-link px-0" href="#about">Über diese Seite</a>
        </nav>
      </aside>

      <!-- Inhaltsspalte -->
      <div class="flex-grow-1">
        <section id="dashboard" class="mb-5">
          <h2 class="h5 mb-3">CO₂-Emissionsdaten</h2>
          <p class="text-muted">
            Fiktive CO₂-Emissionsdaten von Ländern und Unternehmen (pro Jahr).
          </p>

          <!-- Filterbereich -->
          <section id="filters" class="card card-body mb-3">
            <form class="row g-3" @submit.prevent>
              <div class="col-md-4">
                <label for="country-filter" class="form-label">Land</label>
                <input
                  type="text"
                  id="country-filter"
                  class="form-control"
                  placeholder="z. B. Germany"
                  autocomplete="off"
                  v-model="filterCountry"
                />
              </div>
              <div class="col-md-4">
                <label for="company-filter" class="form-label">Unternehmen</label>
                <input
                  type="text"
                  id="company-filter"
                  class="form-control"
                  placeholder="z. B. GreenCorp"
                  autocomplete="off"
                  v-model="filterCompany"
                />
              </div>
              <div class="col-md-4 d-flex align-items-end">
                <button type="submit" class="btn btn-primary me-2">
                  Filter anwenden
                </button>
                <button type="button" class="btn btn-outline-secondary" @click="resetFilters">
                  Zurücksetzen
                </button>
              </div>
            </form>
          </section>

          <!-- Tabelle mit CO₂-Daten -->
          <div class="table-responsive">
            <table
              id="emissions-table"
              class="table table-striped table-hover align-middle"
            >
              <thead>
                <tr>
                  <th scope="col"
                      @click="setSort('country')"
                      :class="{ 'sort-active': sortKey === 'country' }">
                    {{ headerLabel('country', 'Land') }}
                  </th>
                  <th scope="col"
                      @click="setSort('company')"
                      :class="{ 'sort-active': sortKey === 'company' }">
                    {{ headerLabel('company', 'Unternehmen') }}
                  </th>
                  <th scope="col"
                      @click="setSort('sector')"
                      :class="{ 'sort-active': sortKey === 'sector' }">
                    {{ headerLabel('sector', 'Sektor') }}
                  </th>
                  <th scope="col"
                      @click="setSort('year')"
                      :class="{ 'sort-active': sortKey === 'year' }">
                    {{ headerLabel('year', 'Jahr') }}
                  </th>
                  <th scope="col"
                      @click="setSort('emissions')"
                      :class="{ 'sort-active': sortKey === 'emissions' }">
                    {{ headerLabel('emissions', 'CO₂-Emissionen (Mt)') }}
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="(row, index) in filteredAndSortedEmissions" :key="index">
                  <td>{{ row.country }}</td>
                  <td>{{ row.company }}</td>
                  <td>{{ row.sector }}</td>
                  <td>{{ row.year }}</td>
                  <td>{{ row.emissions.toFixed(1) }}</td>
                </tr>
              </tbody>
            </table>
          </div>

          <p id="no-results" class="text-muted" v-if="filteredAndSortedEmissions.length === 0">
            Keine Datensätze für die aktuelle Filterung gefunden.
          </p>
        </section>

        <section id="about" class="mb-5">
          <h2 class="h5 mb-3">Über dieses Projekt</h2>
          <p>
            Diese Seite ist eine fiktive Demonstration zur Visualisierung von CO₂-Emissionsdaten.
            Alle Zahlen sind frei erfunden und dienen ausschließlich zu Demonstrations- und
            Lernzwecken.
          </p>
        </section>
      </div>
    </div>
  </main>

  <!-- Footer mit rechtlichen Hinweisen-->
  <footer class="bg-light border-top py-3 mt-auto">
    <div class="container small text-muted d-flex flex-column flex-sm-row justify-content-between">
      <span>© 2025 Non-Profit Organization „Climate Transparency“</span>
      <span>
        <a href="#imprint">Impressum</a> ·
        <a href="#privacy">Datenschutz</a>
      </span>
    </div>
  </footer>

  <!-- Vue.js (JavaScript-Framework) -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>

  <!-- Bootstrap JS -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"
  ></script>

  <!-- Eigene Logik -->
  <script src="app.js"></script>
</body>
</html>